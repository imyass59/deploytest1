{"ast":null,"code":"import _objectSpread from\"C:/Users/Gun$moke/Desktop/Any One/ADV/reactJs/redux-store-v1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Types}from\"../actions/types\";var local=JSON.parse(window.localStorage.getItem(\"Cart-items\"));var foundData=local?local:[];var initialState={CartItems:foundData,CountItems:0};var CartItemsReducer=function CartItemsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case Types.ADD_TO_CART://const exist = state.CartItems.find((x)=> x.product.id === action.payload.product.id);\nvar exist=state.CartItems.findIndex(function(item){return item.product.id===action.payload.product.id;});if(exist>=0){//state.CartItems.map((item)=> item.product.id === action.payload.product.id ? {...item,qty : item.qty + action.payload.qty}: item);\n//state.CartItems.map((item)=> item.product.id === action.payload.product.id ? {...item,qty : item.qty + action.payload.qty} : item);\nstate.CartItems[exist].qty+=action.payload.qty;window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));return _objectSpread({},state);}else{state.CartItems.push(action.payload);window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));return _objectSpread({},state);}case Types.REMOVE_FROM_CART:var newCart=state.CartItems.filter(function(item){return item.product.id!==action.payload;});state.CartItems=newCart;window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));return _objectSpread({},state);case Types.CHANGE_COUNT_CART:var count=0;if(state.CartItems)state.CartItems.map(function(item){count+=item.qty;});return _objectSpread(_objectSpread({},state),{},{CountItems:count});case Types.REMOVE_ALL_CART:window.localStorage.removeItem(\"Cart-items\");return _objectSpread(_objectSpread({},state),{},{CartItems:[]});default:return state;}};export default CartItemsReducer;","map":{"version":3,"names":["Types","local","JSON","parse","window","localStorage","getItem","foundData","initialState","CartItems","CountItems","CartItemsReducer","state","action","type","ADD_TO_CART","exist","findIndex","item","product","id","payload","qty","setItem","stringify","push","REMOVE_FROM_CART","newCart","filter","CHANGE_COUNT_CART","count","map","REMOVE_ALL_CART","removeItem"],"sources":["C:/Users/Gun$moke/Desktop/Any One/ADV/reactJs/redux-store-v1/src/redux/reducers/CartItemsReducer.js"],"sourcesContent":["import { Types } from \"../actions/types\"\r\n\r\nconst local = JSON.parse(window.localStorage.getItem(\"Cart-items\"));\r\nconst foundData = (local)?local:[];\r\n\r\nconst initialState = {\r\n    CartItems : foundData,\r\n    CountItems : 0\r\n}\r\nconst CartItemsReducer = (state = initialState,action) =>\r\n{\r\n    switch(action.type)\r\n    {\r\n        case Types.ADD_TO_CART:\r\n            //const exist = state.CartItems.find((x)=> x.product.id === action.payload.product.id);\r\n            const exist = state.CartItems.findIndex((item) => item.product.id === action.payload.product.id);\r\n            if(exist>=0){\r\n                //state.CartItems.map((item)=> item.product.id === action.payload.product.id ? {...item,qty : item.qty + action.payload.qty}: item);\r\n                //state.CartItems.map((item)=> item.product.id === action.payload.product.id ? {...item,qty : item.qty + action.payload.qty} : item);\r\n                state.CartItems[exist].qty += action.payload.qty;\r\n                window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));\r\n                return {\r\n                    ...state\r\n                }\r\n            }\r\n            else{\r\n                state.CartItems.push(action.payload);\r\n                window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));\r\n                return {\r\n                    ...state\r\n                }\r\n            }\r\n        case Types.REMOVE_FROM_CART:\r\n            const newCart = state.CartItems.filter((item) => item.product.id !== action.payload);\r\n            state.CartItems = newCart;\r\n            window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));\r\n            return {\r\n                ...state\r\n            }\r\n        case Types.CHANGE_COUNT_CART :\r\n            var count = 0;\r\n            if(state.CartItems)state.CartItems.map((item)=>\r\n            {\r\n                count +=item.qty;\r\n            });\r\n            return {\r\n                ...state,\r\n                CountItems : count\r\n            }\r\n        case Types.REMOVE_ALL_CART:\r\n            window.localStorage.removeItem(\"Cart-items\");\r\n            return {\r\n                ...state,\r\n                CartItems : []\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default CartItemsReducer;"],"mappings":"iJAAA,OAASA,KAAT,KAAsB,kBAAtB,CAEA,GAAMC,MAAK,CAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAX,CAAd,CACA,GAAMC,UAAS,CAAIN,KAAD,CAAQA,KAAR,CAAc,EAAhC,CAEA,GAAMO,aAAY,CAAG,CACjBC,SAAS,CAAGF,SADK,CAEjBG,UAAU,CAAG,CAFI,CAArB,CAIA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EACzB,IAD0BC,MAC1B,2DADkCJ,YAClC,IAD+CK,OAC/C,2CACI,OAAOA,MAAM,CAACC,IAAd,EAEI,IAAKd,MAAK,CAACe,WAAX,CACI;AACA,GAAMC,MAAK,CAAGJ,KAAK,CAACH,SAAN,CAAgBQ,SAAhB,CAA0B,SAACC,IAAD,QAAUA,KAAI,CAACC,OAAL,CAAaC,EAAb,GAAoBP,MAAM,CAACQ,OAAP,CAAeF,OAAf,CAAuBC,EAArD,EAA1B,CAAd,CACA,GAAGJ,KAAK,EAAE,CAAV,CAAY,CACR;AACA;AACAJ,KAAK,CAACH,SAAN,CAAgBO,KAAhB,EAAuBM,GAAvB,EAA8BT,MAAM,CAACQ,OAAP,CAAeC,GAA7C,CACAlB,MAAM,CAACC,YAAP,CAAoBkB,OAApB,CAA4B,YAA5B,CAAyCrB,IAAI,CAACsB,SAAL,CAAeZ,KAAK,CAACH,SAArB,CAAzC,EACA,wBACOG,KADP,EAGH,CARD,IASI,CACAA,KAAK,CAACH,SAAN,CAAgBgB,IAAhB,CAAqBZ,MAAM,CAACQ,OAA5B,EACAjB,MAAM,CAACC,YAAP,CAAoBkB,OAApB,CAA4B,YAA5B,CAAyCrB,IAAI,CAACsB,SAAL,CAAeZ,KAAK,CAACH,SAArB,CAAzC,EACA,wBACOG,KADP,EAGH,CACL,IAAKZ,MAAK,CAAC0B,gBAAX,CACI,GAAMC,QAAO,CAAGf,KAAK,CAACH,SAAN,CAAgBmB,MAAhB,CAAuB,SAACV,IAAD,QAAUA,KAAI,CAACC,OAAL,CAAaC,EAAb,GAAoBP,MAAM,CAACQ,OAArC,EAAvB,CAAhB,CACAT,KAAK,CAACH,SAAN,CAAkBkB,OAAlB,CACAvB,MAAM,CAACC,YAAP,CAAoBkB,OAApB,CAA4B,YAA5B,CAAyCrB,IAAI,CAACsB,SAAL,CAAeZ,KAAK,CAACH,SAArB,CAAzC,EACA,wBACOG,KADP,EAGJ,IAAKZ,MAAK,CAAC6B,iBAAX,CACI,GAAIC,MAAK,CAAG,CAAZ,CACA,GAAGlB,KAAK,CAACH,SAAT,CAAmBG,KAAK,CAACH,SAAN,CAAgBsB,GAAhB,CAAoB,SAACb,IAAD,CACvC,CACIY,KAAK,EAAGZ,IAAI,CAACI,GAAb,CACH,CAHkB,EAInB,sCACOV,KADP,MAEIF,UAAU,CAAGoB,KAFjB,GAIJ,IAAK9B,MAAK,CAACgC,eAAX,CACI5B,MAAM,CAACC,YAAP,CAAoB4B,UAApB,CAA+B,YAA/B,EACA,sCACOrB,KADP,MAEIH,SAAS,CAAG,EAFhB,GAIJ,QACI,MAAOG,MAAP,CA7CR,CA+CH,CAjDD,CAmDA,cAAeD,iBAAf"},"metadata":{},"sourceType":"module"}