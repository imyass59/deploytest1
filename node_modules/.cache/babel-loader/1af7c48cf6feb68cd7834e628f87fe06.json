{"ast":null,"code":"import { Types } from \"../actions/types\";\nconst local = JSON.parse(window.localStorage.getItem(\"Cart-items\"));\nconst foundData = local ? local : [];\nconst initialState = {\n  CartItems: foundData,\n  CountItems: 0\n};\n\nconst CartItemsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case Types.ADD_TO_CART:\n      //const exist = state.CartItems.find((x)=> x.product.id === action.payload.product.id);\n      const exist = state.CartItems.findIndex(item => item.product.id === action.payload.product.id);\n\n      if (exist >= 0) {\n        //state.CartItems.map((item)=> item.product.id === action.payload.product.id ? {...item,qty : item.qty + action.payload.qty}: item);\n        //state.CartItems.map((item)=> item.product.id === action.payload.product.id ? {...item,qty : item.qty + action.payload.qty} : item);\n        state.CartItems[exist].qty += action.payload.qty;\n        window.localStorage.setItem(\"Cart-items\", JSON.stringify(state.CartItems));\n        return { ...state\n        };\n      } else {\n        state.CartItems.push(action.payload);\n        window.localStorage.setItem(\"Cart-items\", JSON.stringify(state.CartItems));\n        return { ...state\n        };\n      }\n\n    case Types.REMOVE_FROM_CART:\n      const newCart = state.CartItems.filter(item => item.product.id !== action.payload);\n      state.CartItems = newCart;\n      window.localStorage.setItem(\"Cart-items\", JSON.stringify(state.CartItems));\n      return { ...state\n      };\n\n    case Types.CHANGE_COUNT_CART:\n      var count = 0;\n      if (state.CartItems) state.CartItems.map(item => {\n        count += item.qty;\n      });\n      return { ...state,\n        CountItems: count\n      };\n\n    case Types.REMOVE_ALL_CART:\n      window.localStorage.removeItem(\"Cart-items\");\n      return { ...state\n      };\n\n    default:\n      return state;\n  }\n};\n\n_c = CartItemsReducer;\nexport default CartItemsReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItemsReducer\");","map":{"version":3,"names":["Types","local","JSON","parse","window","localStorage","getItem","foundData","initialState","CartItems","CountItems","CartItemsReducer","state","action","type","ADD_TO_CART","exist","findIndex","item","product","id","payload","qty","setItem","stringify","push","REMOVE_FROM_CART","newCart","filter","CHANGE_COUNT_CART","count","map","REMOVE_ALL_CART","removeItem"],"sources":["C:/Users/Gun$moke/Desktop/Any One/ADV/reactJs/redux-store-v1/src/redux/reducers/CartItemsReducer.js"],"sourcesContent":["import { Types } from \"../actions/types\"\r\n\r\nconst local = JSON.parse(window.localStorage.getItem(\"Cart-items\"));\r\nconst foundData = (local)?local:[];\r\n\r\nconst initialState = {\r\n    CartItems : foundData,\r\n    CountItems : 0\r\n}\r\nconst CartItemsReducer = (state = initialState,action) =>\r\n{\r\n    switch(action.type)\r\n    {\r\n        case Types.ADD_TO_CART:\r\n            //const exist = state.CartItems.find((x)=> x.product.id === action.payload.product.id);\r\n            const exist = state.CartItems.findIndex((item) => item.product.id === action.payload.product.id);\r\n            if(exist>=0){\r\n                //state.CartItems.map((item)=> item.product.id === action.payload.product.id ? {...item,qty : item.qty + action.payload.qty}: item);\r\n                //state.CartItems.map((item)=> item.product.id === action.payload.product.id ? {...item,qty : item.qty + action.payload.qty} : item);\r\n                state.CartItems[exist].qty += action.payload.qty;\r\n                window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));\r\n                return {\r\n                    ...state\r\n                }\r\n            }\r\n            else{\r\n                state.CartItems.push(action.payload);\r\n                window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));\r\n                return {\r\n                    ...state\r\n                }\r\n            }\r\n        case Types.REMOVE_FROM_CART:\r\n            const newCart = state.CartItems.filter((item) => item.product.id !== action.payload);\r\n            state.CartItems = newCart;\r\n            window.localStorage.setItem(\"Cart-items\",JSON.stringify(state.CartItems));\r\n            return {\r\n                ...state\r\n            }\r\n        case Types.CHANGE_COUNT_CART :\r\n            var count = 0;\r\n            if(state.CartItems)state.CartItems.map((item)=>\r\n            {\r\n                count +=item.qty;\r\n            });\r\n            return {\r\n                ...state,\r\n                CountItems : count\r\n            }\r\n        case Types.REMOVE_ALL_CART:\r\n            window.localStorage.removeItem(\"Cart-items\");\r\n            return {\r\n                ...state,\r\n                \r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default CartItemsReducer;"],"mappings":"AAAA,SAASA,KAAT,QAAsB,kBAAtB;AAEA,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAX,CAAd;AACA,MAAMC,SAAS,GAAIN,KAAD,GAAQA,KAAR,GAAc,EAAhC;AAEA,MAAMO,YAAY,GAAG;EACjBC,SAAS,EAAGF,SADK;EAEjBG,UAAU,EAAG;AAFI,CAArB;;AAIA,MAAMC,gBAAgB,GAAG,YACzB;EAAA,IAD0BC,KAC1B,uEADkCJ,YAClC;EAAA,IAD+CK,MAC/C;;EACI,QAAOA,MAAM,CAACC,IAAd;IAEI,KAAKd,KAAK,CAACe,WAAX;MACI;MACA,MAAMC,KAAK,GAAGJ,KAAK,CAACH,SAAN,CAAgBQ,SAAhB,CAA2BC,IAAD,IAAUA,IAAI,CAACC,OAAL,CAAaC,EAAb,KAAoBP,MAAM,CAACQ,OAAP,CAAeF,OAAf,CAAuBC,EAA/E,CAAd;;MACA,IAAGJ,KAAK,IAAE,CAAV,EAAY;QACR;QACA;QACAJ,KAAK,CAACH,SAAN,CAAgBO,KAAhB,EAAuBM,GAAvB,IAA8BT,MAAM,CAACQ,OAAP,CAAeC,GAA7C;QACAlB,MAAM,CAACC,YAAP,CAAoBkB,OAApB,CAA4B,YAA5B,EAAyCrB,IAAI,CAACsB,SAAL,CAAeZ,KAAK,CAACH,SAArB,CAAzC;QACA,OAAO,EACH,GAAGG;QADA,CAAP;MAGH,CARD,MASI;QACAA,KAAK,CAACH,SAAN,CAAgBgB,IAAhB,CAAqBZ,MAAM,CAACQ,OAA5B;QACAjB,MAAM,CAACC,YAAP,CAAoBkB,OAApB,CAA4B,YAA5B,EAAyCrB,IAAI,CAACsB,SAAL,CAAeZ,KAAK,CAACH,SAArB,CAAzC;QACA,OAAO,EACH,GAAGG;QADA,CAAP;MAGH;;IACL,KAAKZ,KAAK,CAAC0B,gBAAX;MACI,MAAMC,OAAO,GAAGf,KAAK,CAACH,SAAN,CAAgBmB,MAAhB,CAAwBV,IAAD,IAAUA,IAAI,CAACC,OAAL,CAAaC,EAAb,KAAoBP,MAAM,CAACQ,OAA5D,CAAhB;MACAT,KAAK,CAACH,SAAN,GAAkBkB,OAAlB;MACAvB,MAAM,CAACC,YAAP,CAAoBkB,OAApB,CAA4B,YAA5B,EAAyCrB,IAAI,CAACsB,SAAL,CAAeZ,KAAK,CAACH,SAArB,CAAzC;MACA,OAAO,EACH,GAAGG;MADA,CAAP;;IAGJ,KAAKZ,KAAK,CAAC6B,iBAAX;MACI,IAAIC,KAAK,GAAG,CAAZ;MACA,IAAGlB,KAAK,CAACH,SAAT,EAAmBG,KAAK,CAACH,SAAN,CAAgBsB,GAAhB,CAAqBb,IAAD,IACvC;QACIY,KAAK,IAAGZ,IAAI,CAACI,GAAb;MACH,CAHkB;MAInB,OAAO,EACH,GAAGV,KADA;QAEHF,UAAU,EAAGoB;MAFV,CAAP;;IAIJ,KAAK9B,KAAK,CAACgC,eAAX;MACI5B,MAAM,CAACC,YAAP,CAAoB4B,UAApB,CAA+B,YAA/B;MACA,OAAO,EACH,GAAGrB;MADA,CAAP;;IAIJ;MACI,OAAOA,KAAP;EA7CR;AA+CH,CAjDD;;KAAMD,gB;AAmDN,eAAeA,gBAAf"},"metadata":{},"sourceType":"module"}